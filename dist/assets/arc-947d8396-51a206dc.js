import{c as j,p as sn}from"./constant-b644328d-6af51708.js";import{c7 as en,c8 as F,c9 as b,ca as rn,cb as g,bb as cn,cc as J,cd as k,ce as un,cf as o,cg as an,ch as ln,ci as on}from"./index-75341464.js";function tn(c){return c.innerRadius}function fn(c){return c.outerRadius}function gn(c){return c.startAngle}function yn(c){return c.endAngle}function mn(c){return c&&c.padAngle}function pn(c,x,D,q,h,v,z,r){var s=D-c,n=q-x,m=z-h,i=r-v,u=i*s-m*n;if(!(u*u<g))return u=(m*(x-v)-i*(c-h))/u,[c+u*s,x+u*n]}function Q(c,x,D,q,h,v,z){var r=c-D,s=x-q,n=(z?v:-v)/J(r*r+s*s),m=n*s,i=-n*r,u=c+m,t=x+i,f=D+m,E=q+i,l=(u+f)/2,I=(t+E)/2,p=f-u,y=E-t,A=p*p+y*y,O=h-v,P=u*E-f*t,S=(y<0?-1:1)*J(on(0,O*O*A-P*P)),$=(P*y-p*S)/A,d=(-P*p-y*S)/A,R=(P*y+p*S)/A,T=(-P*p+y*S)/A,e=$-l,a=d-I,B=R-l,C=T-I;return e*e+a*a>B*B+C*C&&($=R,d=T),{cx:$,cy:d,x01:-m,y01:-i,x11:$*(h/O-1),y11:d*(h/O-1)}}function hn(){var c=tn,x=fn,D=j(0),q=null,h=gn,v=yn,z=mn,r=null;function s(){var n,m,i=+c.apply(this,arguments),u=+x.apply(this,arguments),t=h.apply(this,arguments)-rn,f=v.apply(this,arguments)-rn,E=un(f-t),l=f>t;if(r||(r=n=sn()),u<i&&(m=u,u=i,i=m),!(u>g))r.moveTo(0,0);else if(E>cn-g)r.moveTo(u*F(t),u*b(t)),r.arc(0,0,u,t,f,!l),i>g&&(r.moveTo(i*F(f),i*b(f)),r.arc(0,0,i,f,t,l));else{var I=t,p=f,y=t,A=f,O=E,P=E,S=z.apply(this,arguments)/2,$=S>g&&(q?+q.apply(this,arguments):J(i*i+u*u)),d=k(un(u-i)/2,+D.apply(this,arguments)),R=d,T=d,e,a;if($>g){var B=an($/i*b(S)),C=an($/u*b(S));(O-=B*2)>g?(B*=l?1:-1,y+=B,A-=B):(O=0,y=A=(t+f)/2),(P-=C*2)>g?(C*=l?1:-1,I+=C,p-=C):(P=0,I=p=(t+f)/2)}var G=u*F(I),H=u*b(I),K=i*F(A),L=i*b(A);if(d>g){var M=u*F(p),N=u*b(p),U=i*F(y),V=i*b(y),w;if(E<en&&(w=pn(G,H,U,V,M,N,K,L))){var W=G-w[0],X=H-w[1],Y=M-w[0],Z=N-w[1],_=1/b(ln((W*Y+X*Z)/(J(W*W+X*X)*J(Y*Y+Z*Z)))/2),nn=J(w[0]*w[0]+w[1]*w[1]);R=k(d,(i-nn)/(_-1)),T=k(d,(u-nn)/(_+1))}}P>g?T>g?(e=Q(U,V,G,H,u,T,l),a=Q(M,N,K,L,u,T,l),r.moveTo(e.cx+e.x01,e.cy+e.y01),T<d?r.arc(e.cx,e.cy,T,o(e.y01,e.x01),o(a.y01,a.x01),!l):(r.arc(e.cx,e.cy,T,o(e.y01,e.x01),o(e.y11,e.x11),!l),r.arc(0,0,u,o(e.cy+e.y11,e.cx+e.x11),o(a.cy+a.y11,a.cx+a.x11),!l),r.arc(a.cx,a.cy,T,o(a.y11,a.x11),o(a.y01,a.x01),!l))):(r.moveTo(G,H),r.arc(0,0,u,I,p,!l)):r.moveTo(G,H),!(i>g)||!(O>g)?r.lineTo(K,L):R>g?(e=Q(K,L,M,N,i,-R,l),a=Q(G,H,U,V,i,-R,l),r.lineTo(e.cx+e.x01,e.cy+e.y01),R<d?r.arc(e.cx,e.cy,R,o(e.y01,e.x01),o(a.y01,a.x01),!l):(r.arc(e.cx,e.cy,R,o(e.y01,e.x01),o(e.y11,e.x11),!l),r.arc(0,0,i,o(e.cy+e.y11,e.cx+e.x11),o(a.cy+a.y11,a.cx+a.x11),l),r.arc(a.cx,a.cy,R,o(a.y11,a.x11),o(a.y01,a.x01),!l))):r.arc(0,0,i,A,y,l)}if(r.closePath(),n)return r=null,n+""||null}return s.centroid=function(){var n=(+c.apply(this,arguments)+ +x.apply(this,arguments))/2,m=(+h.apply(this,arguments)+ +v.apply(this,arguments))/2-en/2;return[F(m)*n,b(m)*n]},s.innerRadius=function(n){return arguments.length?(c=typeof n=="function"?n:j(+n),s):c},s.outerRadius=function(n){return arguments.length?(x=typeof n=="function"?n:j(+n),s):x},s.cornerRadius=function(n){return arguments.length?(D=typeof n=="function"?n:j(+n),s):D},s.padRadius=function(n){return arguments.length?(q=n==null?null:typeof n=="function"?n:j(+n),s):q},s.startAngle=function(n){return arguments.length?(h=typeof n=="function"?n:j(+n),s):h},s.endAngle=function(n){return arguments.length?(v=typeof n=="function"?n:j(+n),s):v},s.padAngle=function(n){return arguments.length?(z=typeof n=="function"?n:j(+n),s):z},s.context=function(n){return arguments.length?(r=n??null,s):r},s}export{hn as d};
